(this["webpackJsonpapp-spravochnik"]=this["webpackJsonpapp-spravochnik"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),i=n(10),c=n.n(i),o=(n(38),n(31)),r=n(27),l=n(28),d=n(33),h=n(32),u=n(76),g=n(77),m=n(85),j=n(78),b=n(79),p=n(80),f=n(81),v=n(82),x=n(83),O=n(84),w=(n(39),n(13)),k=n.n(w),N=(n(58),n(29)),y=n.n(N),C=n(30),S=n(3),L=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={totalItems:0,size:0,page:0,drugs:[],drugList:[],items:[],selectDrugs:[],searchDrugs:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getDrugs()}},{key:"getDrugs",value:function(){var e=this;k.a.get("https://spravochnikihlos.uz/medikament/get_dorilar.php").then((function(t){if(200===t.status){var n=[];e.setState({drugList:t.data}),n=t.data&&t.data.length>1e3?t.data.slice(0,1e3):t.data,e.setState({drugList:t.data,drugs:n,page:0,size:1e3,totalItems:t.data.length})}}))}},{key:"handlePageChange",value:function(e){if(e>=0){var t=e-1;if(this.state.drugList&&this.state.drugList.length>this.state.size*t){var n=this.state.size;this.setState({drugs:this.state.drugList.slice(t*n,t*n+n),page:t})}}}},{key:"render",value:function(){var e=this,t=this.state.openModal,n=function(t,n){var s=document.getElementById("orgName").value,a=document.getElementById("phoneNumber").value;if(s&&s.length>0&&a&&a.length>=9){var i=[{orgName:s,phoneNumber:a,drugs:e.state.items}];i=JSON.stringify(i);var c=new FormData;c.append("json",i),k.a.post("https://spravochnikihlos.uz/ihlos/excel.php",c).then((function(e){})),alert("Ma'lumot muvaffaqiyatli jo'natildi!"),e.setState({openModal:!1,items:[],drugs:[],drugList:[]}),e.getDrugs()}else alert("Bo'sh maydonchalarni to'ldiring!")},s=function(){e.setState({openModal:!t})};return Object(S.jsxs)("div",{className:"w-100 pt-1",children:[Object(S.jsx)("div",{className:"row mt-2 mx-0",children:Object(S.jsxs)("div",{className:"col-md-5 col-md-12 mx-auto ",children:[Object(S.jsxs)("div",{className:"sticky-top bg-white pt-2",children:[Object(S.jsxs)("div",{className:"basket-block text-right mb-3",children:[Object(S.jsx)("div",{className:"m-2 d-inline mr-auto pr-5",children:Object(S.jsxs)("button",{className:"btn btn-success",onClick:s,children:["Jo'natish ",Object(S.jsx)("span",{className:"icon icon-send bg-white"})]})}),Object(S.jsx)("span",{className:"icon icon-cart basket bg-success"}),Object(S.jsx)("div",{className:"select-count",children:Object(S.jsx)("span",{children:this.state.items&&this.state.items.length})})]}),Object(S.jsx)("div",{className:"",children:Object(S.jsx)(u.a,{className:"form-control",id:"searchWord",type:"search",onChange:function(){var t=document.getElementById("searchWord").value;if(t&&t.length>0){for(var n=e.state.drugList,s=[],a=0;a<n.length;a++)n[a].nomi.toLowerCase().indexOf(t.toLowerCase())>=0&&s.push(n[a]);var i=[];i=s&&s.length>1e3?s.slice(0,1e3):s,e.setState({drugList:s,drugs:i,page:0,size:1e3,totalItems:s.length})}else e.getDrugs()},placeholder:"Qidirish..."})})]}),Object(S.jsxs)(g.a,{className:"table-style w-100 table-bordered mt-2",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"bg-success text-white",children:[Object(S.jsx)("th",{children:"\u2116"}),Object(S.jsx)("th",{children:"Dori nomi"})]})}),Object(S.jsx)("tbody",{children:this.state.drugs&&this.state.drugs.length>0&&this.state.drugs.map((function(t,n){return Object(S.jsxs)("tr",{className:" drug-tr "+(e.state.items.some((function(e){return e.nomi===t.nomi}))?" active-tr":""),onClick:function(){return function(t){var n=new Set(e.state.items);n.has(t)?n.delete(t):n.add(t),e.setState({items:Object(o.a)(n)})}(t)},children:[Object(S.jsx)("td",{width:"7%",children:n+1}),Object(S.jsx)("td",{width:"85%",children:t.nomi})]},n)}))})]}),Object(S.jsx)("div",{className:"text-center page-block mx-auto",children:Object(S.jsx)(y.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalItems,pageRangeDisplayed:5,onChange:this.handlePageChange.bind(this),itemClass:"page-item",linkClass:"page-link",className:"text-center mx-auto"})})]})}),Object(S.jsx)(C.TinyButton,{}),Object(S.jsxs)(m.a,{isOpen:t,toggle:function(){return s()},className:"",children:[Object(S.jsx)(j.a,{isOpen:t,toggle:function(){return s()},charCode:"X",children:"Ro'yhatni yuborish"}),Object(S.jsx)(b.a,{children:Object(S.jsxs)(p.a,{onSubmit:n,children:[Object(S.jsxs)(f.a,{children:[Object(S.jsx)(v.a,{for:"exampleEmail",children:"Firma nomi"}),Object(S.jsx)(u.a,{type:"text",nomi:"org",id:"orgName",placeholder:""})]}),Object(S.jsxs)(f.a,{children:[Object(S.jsx)(v.a,{for:"examplePassword",children:"Telefon raqam"}),Object(S.jsx)(u.a,{type:"tel",nomi:"telefon",id:"phoneNumber",placeholder:""})]})]})}),Object(S.jsx)(x.a,{children:Object(S.jsxs)(O.a,{color:"success",onClick:n,children:["Jo'natish ",Object(S.jsx)("span",{className:"icon icon-send bg-white"})]})})]})]})}}]),n}(s.Component),D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))};c.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(L,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");D?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):I(t,e)}))}}(),P()}},[[74,1,2]]]);
//# sourceMappingURL=main.85948975.chunk.js.map